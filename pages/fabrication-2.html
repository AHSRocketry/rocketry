
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Design & Build</title>
  <link href="rocketry.css" type="text/css" rel="stylesheet" />
  <style>
    /* --- Minimal styling additions for the landing cards (non-breaking) --- */
    .landing-container {
      padding: 16px;
      color: var(--content-text, #222);
    }
    .landing-header {
      margin: 0 0 12px 0;
      color: var(--content-text, #222);
    }
    .step-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 16px;
    }
    .step-card {
      background: var(--panel, #ffffff10);
      border: 1px solid var(--panel-border, #ccc);
      border-radius: 8px;
      padding: 14px;
    }
    .step-card h3 {
      margin: 0 0 6px 0;
      color: var(--content-text, #222);
      font-size: 1.05rem;
    }
    .step-card p {
      margin: 0 0 8px 0;
      font-size: 0.95rem;
      line-height: 1.3;
    }
    .link-list {
      list-style: none;
      padding: 0;
      margin: 8px 0 0 0;
    }
    .link-list li {
      margin: 4px 0;
    }
    .link-list a,
    .link-list button.linklike {
      color: var(--link, #0b63ce);
      text-decoration: underline;
      background: none;
      border: none;
      padding: 0;
      font: inherit;
      cursor: pointer;
    }
    .hr-soft {
      border: 0;
      border-top: 1px solid var(--panel-border, #ccc);
      margin: 14px 0;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <!-- Header Section -->
  <header class="header">
    <img src="./images/AHSRocketryLogo.png" class="header-logo" alt="AHS Rocketry Logo" />
    <h1 class="title">American Heritage Rocketry</h1>
  </header>

  <!-- Navigation Buttons -->
  <nav class="nav-buttons">
    <a class="button" href="mainPage.html">Home</a>
    <a class="button" href="about.html">About</a>
    <button class="current-page" onclick="location.href='fabrication.html'">Design &amp; Build</button>
    <a class="button" href="arcatAHS.html">ARC at AHS</a>
    <a class="button" href="schedule.html">Schedule</a>
  </nav>

  <div class="container">
    <!-- LEFT SIDEBAR MENU (unchanged) -->
    <nav class="menu">
      <div class="left-column">
        <ul>
          <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/model-rockets.html')">About Model Rockets</a></li>
          <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/aerodynamics.html')">Aerodynamics &amp; Stability</a></li>

          <li class="dropdown">
            <a href="#">OpenRocket Design &#9662;</a>
            <ul class="dropdown-content" style="display:none;">
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/openrocket.html')">Setup</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-nose-cone.html')">Nose Cone</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-body-tube.html')">Body Tube</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-motor-mount.html')">Motor Mount</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-fins.html')">Fins</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-retainers.html')">Retainers</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-recovery-systems.html')">Recovery Systems</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-finishing.html')">Finishing</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-clusters.html')">Clusters &amp; Pods</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-staging.html')">Staging</a></li>
            </ul>
          </li>

          <li class="dropdown">
            <a href="#">Fabrication &#9662;</a>
            <ul class="dropdown-content" style="display:none;">
              <li><a href="#" onclick="missing('Nose fabrication page')">Nose</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/fab-body-tube.html')">Body Tube</a></li>
              <li><a href="#" onclick="missing('Motor mount fabrication page')">Motor Mount</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/fab-fins.html')">Fins</a></li>
              <li><a href="#" onclick="missing('Retainers fabrication page')">Retainers</a></li>
              <li><a href="#" onclick="missing('Recovery systems fabrication page')">Recovery Systems</a></li>
              <li><a href="#" onclick="missing('Finishing fabrication page')">Finishing</a></li>
            </ul>
          </li>

          <li><a href="#" onclick="missing('Motors overview page')">Motors</a></li>
        </ul>
      </div>
    </nav>

    <!-- RIGHT COLUMN: Default landing content now visible on load -->
    <div id="content-area" class="right-column">
      <div class="landing-container">
        <h2 class="landing-header">Design &amp; Build — Start Here</h2>
        <p>This is your complete, click-through workflow. Jump to your current step or explore the next one.</p>
        <hr class="hr-soft" />

        <div class="step-grid">

          <!-- 1. Mission -->
          <section class="step-card" aria-labelledby="step-mission">
            <h3 id="step-mission">1) Mission Requirements &amp; Constraints</h3>
            <p>Define the goal: basic flight, payload, altitude, and available materials, motors, and tools.</p>
            <ul class="link-list">
              <li><a href="#" onclick="missing('Mission planning page')">Specify the rocket’s mission</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/model-rockets.html')">Materials &amp; motors overview</a></li>
              <li><a href="#" onclick="missing('Tools inventory page')">Tools you can use</a></li>
            </ul>
          </section>

          <!-- 2. OpenRocket -->
          <section class="step-card" aria-labelledby="step-or">
            <h3 id="step-or">2) Design in OpenRocket</h3>
            <p>Build the digital rocket and verify stability (CG vs CP), then choose a motor.</p>
            <ul class="link-list">
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/openrocket.html')">Install / Setup</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/openrocket.html')">OpenRocket — Basics</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-nose-cone.html')">Design the Nose Cone</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-body-tube.html')">Design the Body Tube</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-motor-mount.html')">Design the Motor Mount</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-fins.html')">Design the Fins</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-recovery-systems.html')">Design the Recovery System</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/aerodynamics.html')">Check CG vs CP (Stability)</a></li>
              <li><a href="#" onclick="missing('Design checklist page')">Complete the Design Checklist</a></li>
            </ul>
          </section>

          <!-- 3. OnShape -->
          <section class="step-card" aria-labelledby="step-cad">
            <h3 id="step-cad">3) Draft Parts in OnShape</h3>
            <p>Create CAD for printed and laser-cut parts: nose, transitions, rings, fins, retainers, and jigs.</p>
            <ul class="link-list">
              <li><a href="#" onclick="missing('OnShape account/how-to page')">Create an OnShape Account</a></li>
              <li><a href="#" onclick="missing('OnShape basics page')">OnShape — Basics</a></li>
              <li><a href="#" onclick="missing('OnShape Nose Cone tutorial')">Make a Nose Cone</a></li>
              <li><a href="#" onclick="missing('OnShape Transition tutorial')">Make a Transition</a></li>
              <li><a href="#" onclick="missing('OnShape Centering Ring/Bulkhead tutorial')">Make a Centering Ring/Bulkhead</a></li>
              <li><a href="#" onclick="missing('OnShape Fin tutorial')">Make a Fin</a></li>
              <li><a href="#" onclick="missing('OnShape Retainer tutorial')">Make a Retainer</a></li>
              <li><a href="#" onclick="missing('OnShape Slot Cutting Guide tutorial')">Make a Slot Cutting Guide</a></li>
              <li><a href="#" onclick="missing('OnShape Fin Alignment Jig tutorial')">Make a Fin Alignment Jig</a></li>
            </ul>
          </section>

          <!-- 4. 3D Printing -->
          <section class="step-card" aria-labelledby="step-print">
            <h3 id="step-print">4) Fabrication — 3D Printing</h3>
            <p>Export STL from OnShape, slice in Cura, then print nose cones, transitions, and retainers.</p>
            <ul class="link-list">
              <li><a href="#" onclick="missing('Cura basics page')">Learn Cura Slicer</a></li>
              <li><a href="#" onclick="missing('3D printing workflow page')">3D‑print Nose Cones &amp; Transitions</a></li>
            </ul>
          </section>

          <!-- 5. Laser Cutting -->
          <section class="step-card" aria-labelledby="step-laser">
            <h3 id="step-laser">5) Fabrication — Laser Cutting</h3>
            <p>Cut flat parts on Glowforge: fins, centering rings, bulkheads, and jigs.</p>
            <ul class="link-list">
              <li><a href="#" onclick="missing('Glowforge usage page')">Using the Glowforge</a></li>
              <li><a href="#" onclick="missing('Cut rings & bulkheads page')">Cut centering rings &amp; bulkheads</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/fab-fins.html')">Cut fins</a></li>
              <li><a href="#" onclick="missing('Cut fin‑alignment jig page')">Cut fin‑alignment jigs</a></li>
            </ul>
          </section>

          <!-- 6. Tubes & Slots -->
          <section class="step-card" aria-labelledby="step-tubes">
            <h3 id="step-tubes">6) Body &amp; Motor Tubes, Slots, Edges</h3>
            <p>Select tubes and prep them for assembly.</p>
            <ul class="link-list">
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/fab-body-tube.html')">Select body tube, cut to length, and cut fin slots</a></li>
              <li><a href="#" onclick="missing('Motor tube page')">Select motor tube(s) &amp; cut to length</a></li>
              <li><a href="#" onclick="missing('Motor blocks page')">Cut motor blocks</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/fab-fins.html')">Round fin edges</a></li>
            </ul>
          </section>

          <!-- 7. Assembly -->
          <section class="step-card" aria-labelledby="step-assembly">
            <h3 id="step-assembly">7) Assembly</h3>
            <p>Dry-fit, glue, and integrate internal structures, then complete final structure.</p>
            <ul class="link-list">
              <li><a href="#" onclick="missing('Assemble motor mount page')">Assemble the motor mount</a></li>
              <li><a href="#" onclick="missing('Install motor mount page')">Insert motor mount into body tube</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/fab-fins.html')">Insert fins</a></li>
              <li><a href="#" onclick="missing('Insert transitions page')">Insert transitions</a></li>
              <li><a href="#" onclick="missing('Recovery system install page')">Insert recovery system</a></li>
              <li><a href="#" onclick="missing('Attach nose cone page')">Attach the nose cone</a></li>
            </ul>
          </section>

          <!-- 8. Finishing -->
          <section class="step-card" aria-labelledby="step-finish">
            <h3 id="step-finish">8) Finishing</h3>
            <p>Prep surfaces, then paint and decal.</p>
            <ul class="link-list">
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-finishing.html')">Spray fill &amp; surface prep</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-finishing.html')">Sand smooth</a></li>
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/or-finishing.html')">Paint the rocket</a></li>
            </ul>
          </section>

          <!-- 9. Pre-Flight -->
          <section class="step-card" aria-labelledby="step-preflight">
            <h3 id="step-preflight">9) Pre‑Flight (Stability, Safety, Checklist)</h3>
            <p>Weigh, update OpenRocket, re-check CP/CG, verify recovery &amp; retention, complete safety checks.</p>
            <ul class="link-list">
              <li><a href="#" onclick="loadContent('https://ahsrocketry.github.io/rocketry/pages/aerodynamics.html')">Re-check stability (CG vs CP)</a></li>
              <li><a href="#" onclick="missing('Safety checklist page')">Safety &amp; pre‑flight checklist</a></li>
            </ul>
          </section>

          <!-- 10. Launch -->
          <section class="step-card" aria-labelledby="step-launch">
            <h3 id="step-launch">10) Launch &amp; Post‑Flight Analysis</h3>
            <p>Launch per NAR safety code, record data, compare to simulation, capture improvements.</p>
            <ul class="link-list">
              <li><a href="#" onclick="missing('Launch operations page')">Launch procedures</a></li>
              <li><a href="#" onclick="missing('Flight report & analysis page')">Flight report &amp; analysis</a></li>
            </ul>
          </section>

        </div>
      </div>
    </div>
  </div>

  <!-- If you still want your large "content-source" block in this file,
       you can paste it back here. It's not needed for the landing panel. -->

  <script>
    function missing(name) {
      document.getElementById('content-area').innerHTML =
        `<div class="landing-container"><h2>${name}</h2><p>This module isn't published yet. Ask your instructor or check back soon.</p></div>`;
      // Scroll to top for consistency
      document.getElementById('content-area').scrollTo({ top: 0, behavior: 'smooth' });
    }

    async function loadContent(file) {
      try {
        const response = await fetch(file, { cache: 'no-cache' });
        if (response.ok) {
          const content = await response.text();
          document.getElementById('content-area').innerHTML = content;
          document.getElementById('content-area').scrollTo({ top: 0, behavior: 'smooth' });
        } else {
          console.error('Error loading file:', response.status, response.statusText);
          document.getElementById('content-area').innerHTML =
            `<div class="landing-container"><p>Sorry, I couldn’t load that module.</p><pre>${response.status} ${response.statusText}</pre></div>`;
        }
      } catch (error) {
        console.error('Fetch error:', error);
        document.getElementById('content-area').innerHTML =
          `<div class="landing-container"><p>Network error loading the module.</p><pre>${error}</pre></div>`;
      }
    }

    // Enable ALL dropdown toggles (not just the first one)
    window.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.dropdown > a').forEach(anchor => {
        anchor.addEventListener('click', (e) => {
          e.preventDefault();
          const menu = anchor.nextElementSibling;
          if (!menu) return;
          menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
        });
      });
    });
  </script>
</body>
</html>
